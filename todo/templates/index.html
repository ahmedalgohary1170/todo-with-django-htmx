{% extends 'base.html' %}




{% block content %}
    <h3>Todo List</h3>
    <form method="post" hx-post="{% url 'create_todo' %}" hx-target="#todolist" class="d-flex me-1 my-4" >
        <input type="text" name="title" class="form-control">
        <input type="submit" class="btn btn-success" value="Add">
    </form>
    <div id='todolist'>
        {% include 'todo_list.html' %}
    </div>
{% endblock content %}


{% block script %}
<script>
    document.body.addEventListener('htmx:configRequest', (event) => {
      event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
    })
</script> 
{% endblock script %}
    